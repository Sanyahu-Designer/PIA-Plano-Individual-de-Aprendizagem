{% extends "admin/change_form_material.html" %}
{% load i18n admin_urls static %}

{% block extrastyle %}{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/form_fields_style.css' %}">
<style>
  .card-body {
    padding: 1.5rem 2rem;
  }
  .fieldset-container {
    background-color: #fff;
    border-radius: 0.75rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transition: all 0.3s ease;
  }
  .fieldset-container:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  .fieldset-container h5 {
    font-weight: 600;
    color: #344767;
    margin-bottom: 1rem;
  }
  .form-row {
    display: flex;
    flex-wrap: wrap;
    margin-right: -0.5rem;
    margin-left: -0.5rem;
  }
  .form-group {
    margin-bottom: 1rem;
    padding-right: 0.5rem;
    padding-left: 0.5rem;
  }
  .form-control {
    border: 1px solid #d2d6da;
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    transition: all 0.15s ease-in-out;
  }
  .form-control:focus {
    border-color: #35d1f5;
    box-shadow: 0 0 0 0.2rem rgba(53, 209, 245, 0.25);
  }
  label {
    font-size: 0.875rem;
    font-weight: 600;
    color: #344767;
    margin-bottom: 0.5rem;
    display: block;
  }
  .required label:after {
    content: '*';
    color: #e91e63;
    margin-left: 0.25rem;
  }
</style>
{% endblock %}

{% block navbar_buttons %}{{ block.super }}{% endblock %}

{% block field_sets %}
  {% for fieldset in adminform %}
    <div class="fieldset-container mb-4">
      <h5 class="text-dark mb-3">
        {% if fieldset.name %}{{ fieldset.name }}{% else %}Informações{% endif %}
      </h5>
      {% if fieldset.description %}
        <div class="description">{{ fieldset.description|safe }}</div>
      {% endif %}
      
      <div class="row">
        {% for line in fieldset %}
          {% for field in line %}
            <div class="col-12 col-md-6 mb-3">
              <div class="form-group {% if field.field.required %}required{% endif %}">
                {% if field.is_checkbox %}
                  <div class="form-check">
                    {{ field.field }}
                    <label for="{{ field.field.id_for_label }}" class="form-check-label">{{ field.field.label }}</label>
                  </div>
                {% else %}
                  {{ field.label_tag }}
                  {{ field.field }}
                {% endif %}
                
                {% if field.field.help_text %}
                  <small class="form-text text-muted">{{ field.field.help_text|safe }}</small>
                {% endif %}
                
                {% if field.field.errors %}
                  <div class="invalid-feedback d-block">
                    {% for error in field.field.errors %}
                      {{ error }}
                    {% endfor %}
                  </div>
                {% endif %}
              </div>
            </div>
          {% endfor %}
        {% endfor %}
      </div>
    </div>
  {% endfor %}
{% endblock %}

{% block submit_buttons_bottom %}
  <div class="submit-row d-flex justify-content-between mt-4">
    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-primary mb-0" name="_save">
        <i class="material-symbols-rounded opacity-10" style="font-size: 16px;">save</i> {% translate 'Salvar' %}
      </button>
      
      {% if show_save_and_continue %}
        <button type="submit" class="btn btn-outline-primary mb-0" name="_continue">
          <i class="material-symbols-rounded opacity-10" style="font-size: 16px;">edit_note</i> {% translate 'Salvar e continuar editando' %}
        </button>
      {% endif %}
      
      {% if show_save_and_add_another %}
        <button type="submit" class="btn btn-outline-primary mb-0" name="_addanother">
          <i class="material-symbols-rounded opacity-10" style="font-size: 16px;">add</i> {% translate 'Salvar e adicionar outro' %}
        </button>
      {% endif %}
    </div>
    
    {% if show_delete_link and original %}
      <a href="{% url opts|admin_urlname:'delete' original.pk|admin_urlquote %}" class="btn btn-outline-danger mb-0">
        <i class="material-symbols-rounded opacity-10" style="font-size: 16px;">delete</i> {% translate 'Excluir' %}
      </a>
    {% endif %}
  </div>
{% endblock %}
